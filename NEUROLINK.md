# üß† NeuroLink - Sistema Inteligente de Notifica√ß√µes

<div align="center">
  <h2>A Primeira Biblioteca de Notifica√ß√µes com IA Generativa</h2>
  <p><strong>Sistema revolucion√°rio que combina IA contextual, an√°lise comportamental e gamifica√ß√£o para criar notifica√ß√µes verdadeiramente inteligentes</strong></p>
</div>

---

## üìã √çndice

- [Vis√£o Geral](#-vis√£o-geral)
- [Arquitetura](#-arquitetura)
- [Instala√ß√£o e Configura√ß√£o](#-instala√ß√£o-e-configura√ß√£o)
- [Como Funciona](#-como-funciona)
- [API Reference](#-api-reference)
- [Tipos de Notifica√ß√£o](#-tipos-de-notifica√ß√£o)
- [Sistema de Prioriza√ß√£o](#-sistema-de-prioriza√ß√£o)
- [Templates e Personaliza√ß√£o](#-templates-e-personaliza√ß√£o)
- [Analytics e M√©tricas](#-analytics-e-m√©tricas)
- [Troubleshooting](#-troubleshooting)
- [Performance e Escalabilidade](#-performance-e-escalabilidade)
- [Roadmap](#-roadmap)

---

## üåü Vis√£o Geral

### O que √© o NeuroLink?

O NeuroLink √© um sistema de notifica√ß√µes de pr√≥xima gera√ß√£o que utiliza **Intelig√™ncia Artificial generativa** para criar mensagens personalizadas e contextualmente relevantes. Diferente dos sistemas tradicionais que usam templates est√°ticos, o NeuroLink:

- ü§ñ **Gera conte√∫do √∫nico** para cada notifica√ß√£o usando IA
- üß† **Aprende continuamente** com feedback dos usu√°rios
- üéØ **Analisa contexto completo** (usu√°rio + tarefa + temporal)
- ‚ö° **Gerencia filas inteligentemente** com prioriza√ß√£o din√¢mica
- üìä **Otimiza automaticamente** baseado em m√©tricas de engajamento

### Por que NeuroLink?

| Problema Tradicional | Solu√ß√£o NeuroLink |
|---------------------|-------------------|
| üìù Mensagens gen√©ricas e rob√≥ticas | ü§ñ Mensagens naturais geradas por IA |
| üîÑ Templates est√°ticos repetitivos | üé® Conte√∫do √∫nico e contextual |
| üìß Spam de notifica√ß√µes irrelevantes | üéØ Prioriza√ß√£o inteligente e rate limiting |
| üìà Sem aprendizado ou melhoria | üß† Feedback learning cont√≠nuo |
| ‚è∞ Hor√°rios fixos inadequados | üìä Timing otimizado por padr√µes do usu√°rio |

### Casos de Uso

- **üì± Aplicativos de Produtividade**: Lembretes contextuais e motiva√ß√£o
- **üéÆ Gamifica√ß√£o**: Comemora√ß√µes din√¢micas de conquistas
- **üìö Educa√ß√£o**: Notifica√ß√µes de estudo personalizadas
- **üíº Corporativo**: Alertas de projeto com contexto business
- **üè• Sa√∫de**: Lembretes de medica√ß√£o com tom apropriado

---

## üèóÔ∏è Arquitetura

### Vis√£o Geral da Arquitetura

```mermaid
graph TB
    A[Evento de Tarefa] --> B[QueueManager]
    B --> C[Context Processors]
    C --> D[Priority Calculator]
    D --> E[AI Engine]
    E --> F[Prompt Engine]
    F --> G[Arcee AI]
    G --> H[Response Parser]
    H --> I[Queue Storage]
    I --> J[Notification Scheduler]
    J --> K[Delivery System]
    K --> L[Frontend/Mobile]
    L --> M[Feedback System]
    M --> N[Analytics Engine]
    N --> B
```

### Componentes Principais

#### ü§ñ AIEngine
**Responsabilidade**: Interface com provedores de IA (Arcee AI)

```javascript
// Funcionalidades principais:
- generateNotification(context)  // Gera notifica√ß√£o com IA
- testConnection()              // Testa conectividade
- _makeRequest(prompt)          // Requisi√ß√µes resilientes com retry
- _parseResponse(response)      // Parsing e valida√ß√£o de resposta
```

**Caracter√≠sticas**:
- ‚úÖ Sistema de retry com backoff exponencial
- ‚úÖ Fallback autom√°tico para templates est√°ticos
- ‚úÖ Rate limiting para evitar limites da API
- ‚úÖ Parsing robusto de respostas JSON

#### üéØ QueueManager
**Responsabilidade**: Gerenciamento inteligente de filas de notifica√ß√£o

```javascript
// Funcionalidades principais:
- enqueue(notificationData)           // Adiciona √† fila
- processQueue()                      // Processa notifica√ß√µes pendentes
- scheduleTaskNotifications()         // Agenda baseado em eventos
- _buildFullContext()                 // Constr√≥i contexto completo
```

**Caracter√≠sticas**:
- ‚úÖ Deduplica√ß√£o autom√°tica
- ‚úÖ Rate limiting por usu√°rio
- ‚úÖ Batch processing otimizado
- ‚úÖ Reagendamento inteligente

#### ‚öñÔ∏è PriorityCalculator
**Responsabilidade**: C√°lculo de prioridade baseado em m√∫ltiplos fatores

```javascript
// Algoritmo de prioriza√ß√£o:
Priority = (Urgency √ó 0.4) + (TaskPoints √ó 0.2) + 
           (UserLevel √ó 0.15) + (NotificationType √ó 0.15) + 
           (TimeContext √ó 0.1)
```

**Fatores Considerados**:
- üö® **Urg√™ncia** (40%): Tempo at√© deadline, status de vencimento
- üíé **Valor da Tarefa** (20%): Pontos, import√¢ncia
- üë§ **N√≠vel do Usu√°rio** (15%): Engajamento, sequ√™ncia
- üîî **Tipo de Notifica√ß√£o** (15%): ALERT > REMINDER > MOTIVATION
- ‚è∞ **Contexto Temporal** (10%): Hor√°rio ativo, prime time

#### üß© PromptEngine
**Responsabilidade**: Gera√ß√£o de prompts din√¢micos e contextuais

```javascript
// Templates adaptativos:
- AlertTemplates      // Templates para alertas urgentes
- ReminderTemplates   // Templates para lembretes amig√°veis  
- MotivationTemplates // Templates para motiva√ß√£o e conquistas
```

**Caracter√≠sticas**:
- ‚úÖ Templates adaptativos baseados no contexto
- ‚úÖ Interpola√ß√£o din√¢mica de vari√°veis
- ‚úÖ Personaliza√ß√£o por tipo de personalidade
- ‚úÖ Fallbacks autom√°ticos para casos edge

#### üë§ Context Processors
**Responsabilidade**: An√°lise profunda de contexto de usu√°rio e tarefa

**UserContextProcessor**:
```javascript
// M√©tricas calculadas:
- activity_metrics     // Taxa de conclus√£o, padr√µes de atividade
- behavior_patterns    // Hor√°rios prefer√™ncia, dias produtivos
- engagement_score     // Taxa de leitura, feedback positivo
- user_segment        // beginner, power_user, at_risk, etc.
```

**TaskContextProcessor**:
```javascript
// Enriquecimento da tarefa:
- time_analysis       // Tempo at√© deadline, progresso temporal
- task_classification // Complexidade, categoria, prioridade
- urgency_level       // overdue, critical, high, medium, low
- difficulty_estimate // hard, medium, easy
```

### Fluxo de Dados

1. **üé¨ Trigger**: Evento de tarefa (cria√ß√£o, deadline, conclus√£o)
2. **üîÑ Context**: Processadores analisam usu√°rio e tarefa
3. **‚öñÔ∏è Priority**: Algoritmo calcula prioridade (1-10)
4. **ü§ñ AI Generation**: IA gera conte√∫do personalizado
5. **üì¶ Queue**: Notifica√ß√£o adicionada √† fila com timing otimizado
6. **‚è∞ Schedule**: Scheduler processa fila baseado em prioridade
7. **üì± Delivery**: Notifica√ß√£o entregue ao frontend/mobile
8. **üìä Feedback**: Usu√°rio interage e fornece feedback
9. **üß† Learning**: Sistema aprende e otimiza futuras notifica√ß√µes

---

## üöÄ Instala√ß√£o e Configura√ß√£o

### 1. Depend√™ncias

```bash
# Instalar depend√™ncias adicionais
pnpm install axios node-cron

# Ou com npm
npm install axios node-cron
```

### 2. Vari√°veis de Ambiente

```env
# .env - Configura√ß√µes obrigat√≥rias
ARCEE_TOKEN=seu_token_arcee_aqui

# Configura√ß√µes opcionais
NEUROLINK_BATCH_SIZE=10
NEUROLINK_MAX_RETRIES=3
NEUROLINK_TIMEOUT=30000
NEUROLINK_ENABLED=true
```

### 3. Schema do Banco de Dados

```sql
-- Tabela principal de notifica√ß√µes
CREATE TABLE orbita_notifications (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  usuario_id UUID NOT NULL REFERENCES orbita_usuarios(id) ON DELETE CASCADE,
  tarefa_id UUID REFERENCES orbita_tarefas(id) ON DELETE CASCADE,
  tipo VARCHAR(20) NOT NULL CHECK (tipo IN ('ALERT', 'REMINDER', 'INSIGHT', 'MOTIVATION', 'PROGRESS', 'ACHIEVEMENT')),
  titulo VARCHAR(255) NOT NULL,
  mensagem TEXT NOT NULL,
  prioridade INTEGER NOT NULL DEFAULT 5 CHECK (prioridade BETWEEN 1 AND 10),
  agendado_para TIMESTAMP WITH TIME ZONE NOT NULL,
  enviado_em TIMESTAMP WITH TIME ZONE,
  lido_em TIMESTAMP WITH TIME ZONE,
  status VARCHAR(20) NOT NULL DEFAULT 'PENDING' CHECK (status IN ('PENDING', 'SENT', 'READ', 'DISMISSED')),
  metadata JSONB DEFAULT '{}',
  criado_em TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  atualizado_em TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Configura√ß√µes por usu√°rio
CREATE TABLE orbita_notification_settings (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  usuario_id UUID NOT NULL REFERENCES orbita_usuarios(id) ON DELETE CASCADE UNIQUE,
  personalidade VARCHAR(20) NOT NULL DEFAULT 'casual' CHECK (personalidade IN ('formal', 'casual', 'motivational', 'friendly')),
  horario_inicio TIME NOT NULL DEFAULT '07:00',
  horario_fim TIME NOT NULL DEFAULT '22:00',
  frequencia_maxima INTEGER NOT NULL DEFAULT 5,
  tipos_habilitados JSONB NOT NULL DEFAULT '["ALERT", "REMINDER", "MOTIVATION"]',
  timezone VARCHAR(50) NOT NULL DEFAULT 'America/Sao_Paulo',
  criado_em TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  atualizado_em TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Feedback para aprendizado
CREATE TABLE orbita_notification_feedback (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  notification_id UUID NOT NULL REFERENCES orbita_notifications(id) ON DELETE CASCADE,
  usuario_id UUID NOT NULL REFERENCES orbita_usuarios(id) ON DELETE CASCADE,
  feedback_tipo VARCHAR(20) NOT NULL CHECK (feedback_tipo IN ('helpful', 'annoying', 'irrelevant', 'perfect', 'too_early', 'too_late')),
  comentario TEXT,
  criado_em TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Contexto do usu√°rio para IA
CREATE TABLE orbita_user_context (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  usuario_id UUID NOT NULL REFERENCES orbita_usuarios(id) ON DELETE CASCADE UNIQUE,
  padroes_atividade JSONB DEFAULT '{}',
  preferencias_tom JSONB DEFAULT '{}',
  historico_engajamento JSONB DEFAULT '{}',
  ultima_atividade TIMESTAMP WITH TIME ZONE,
  criado_em TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  atualizado_em TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- √çndices para performance
CREATE INDEX idx_notifications_usuario_status ON orbita_notifications(usuario_id, status);
CREATE INDEX idx_notifications_agendado_para ON orbita_notifications(agendado_para);
CREATE INDEX idx_notifications_prioridade ON orbita_notifications(prioridade DESC);
```

### 4. Integra√ß√£o no Servidor

```javascript
// server.js
const neurolinkRoutes = require('./routes/neurolinkRoutes');
const NotificationScheduler = require('./neurolink/scheduler/NotificationScheduler');

// Adicionar rotas
app.use('/api/neurolink', neurolinkRoutes);

// Inicializar scheduler
const scheduler = new NotificationScheduler();
scheduler.start();

// Graceful shutdown
process.on('SIGTERM', () => {
  scheduler.stop();
  process.exit(0);
});
```

---

## ‚öôÔ∏è Como Funciona

### Ciclo de Vida de uma Notifica√ß√£o

#### 1. **Trigger de Evento**
```javascript
// Autom√°tico - quando tarefa √© criada
const tarefa = await TarefaService.criarTarefa(usuarioId, dadosTarefa);
// NeuroLink automaticamente agenda notifica√ß√µes

// Manual - gerar notifica√ß√£o espec√≠fica
await queueManager.enqueue({
  usuario_id: "uuid",
  tarefa_id: "uuid", 
  tipo: "MOTIVATION",
  objective: "Motivar continuidade na tarefa"
});
```

#### 2. **An√°lise de Contexto**
```javascript
// Sistema coleta informa√ß√µes completas
const context = {
  user: {
    nome: "Jo√£o",
    nivel: 3,
    sequencia: 7,
    activity_metrics: { completion_rate: 0.85 },
    behavior_patterns: { preferred_hours: [9, 14, 19] }
  },
  task: {
    nome: "Estudar Node.js",
    pontos: 12,
    urgency_level: "medium",
    time_analysis: { time_to_deadline_hours: 24 }
  },
  settings: {
    personalidade: "casual",
    horario_inicio: "07:00",
    horario_fim: "22:00"
  }
};
```

#### 3. **Gera√ß√£o com IA**
```javascript
// Prompt contextualizado enviado para Arcee AI
const prompt = `
Voc√™ √© o NeuroLink, assistente de produtividade inteligente.

Gere um REMINDER casual para Jo√£o (n√≠vel 3, 7 dias de sequ√™ncia).
Tarefa: "Estudar Node.js" (12 pontos, vence em 24h)
Contexto: Jo√£o √© mais produtivo √†s 9h, 14h e 19h.
Tom: casual e amig√°vel

Responda em JSON: {"titulo": "...", "mensagem": "...", "tom": "...", "emoji_principal": "..."}
`;

// IA responde com conte√∫do personalizado
{
  "titulo": "üìö Hora do Node.js, Jo√£o!",
  "mensagem": "E a√≠, Jo√£o! Que tal dar uma olhada no 'Estudar Node.js'? S√£o 12 pontos esperando por voc√™ e voc√™ est√° no ritmo com 7 dias de sequ√™ncia! üî•",
  "tom": "casual",
  "emoji_principal": "üìö"
}
```

#### 4. **Prioriza√ß√£o e Agendamento**
```javascript
// C√°lculo de prioridade
const priority = (
  urgencyScore * 0.4 +      // 6 * 0.4 = 2.4
  taskPointsScore * 0.2 +   // 7 * 0.2 = 1.4  
  userLevelScore * 0.15 +   // 5 * 0.15 = 0.75
  notificationTypeScore * 0.15 + // 7 * 0.15 = 1.05
  timeContextScore * 0.1    // 6 * 0.1 = 0.6
); // Total: 6.2 ‚Üí Prioridade 6

// Determinar melhor hor√°rio
const optimalTime = calculateOptimalTime(userPatterns, urgency);
// Resultado: Pr√≥ximo hor√°rio de alta produtividade (14h)
```

#### 5. **Processamento da Fila**
```javascript
// Scheduler processa a cada 2 minutos
cron.schedule('*/2 * * * *', async () => {
  const pendingNotifications = await NotificationModel.listarPendentes(10);
  
  for (const notification of pendingNotifications) {
    // Verificar hor√°rio permitido
    if (isWithinAllowedHours(notification.usuario_id)) {
      // Marcar como enviada
      await NotificationModel.atualizarStatus(notification.id, 'SENT');
      // Entregar ao frontend
      deliverToFrontend(notification);
    }
  }
});
```

### Eventos Autom√°ticos

O NeuroLink se integra automaticamente com o sistema de tarefas:

| Evento | Notifica√ß√µes Geradas |
|--------|---------------------|
| **Tarefa Criada** | ‚Ä¢ Confirma√ß√£o motivacional<br>‚Ä¢ Lembrete antes do vencimento |
| **Prazo Pr√≥ximo** | ‚Ä¢ Alerta de urg√™ncia<br>‚Ä¢ Sugest√£o de a√ß√£o |
| **Tarefa Vencida** | ‚Ä¢ Notifica√ß√£o de vencimento<br>‚Ä¢ Motiva√ß√£o para conclus√£o |
| **Tarefa Conclu√≠da** | ‚Ä¢ Parab√©ns pela conquista<br>‚Ä¢ Estat√≠sticas de progresso |
| **N√≠vel Atingido** | ‚Ä¢ Celebra√ß√£o de conquista<br>‚Ä¢ Pr√≥ximos objetivos |
| **Sequ√™ncia Quebrada** | ‚Ä¢ Motiva√ß√£o para recome√ßar<br>‚Ä¢ Dicas de produtividade |

---

## üì° API Reference

### Autentica√ß√£o
Todos os endpoints requerem token JWT no header:
```
Authorization: Bearer {token}
```

### Endpoints Principais

#### `POST /api/neurolink/generate`
Gera notifica√ß√£o personalizada com IA

**Request Body:**
```json
{
  "tipo": "MOTIVATION",
  "tarefa_id": "uuid-opcional",
  "objetivo": "Motivar usu√°rio a manter produtividade"
}
```

**Response:**
```json
{
  "erro": false,
  "mensagem": "Notifica√ß√£o gerada e adicionada √† fila",
  "notification": {
    "id": "uuid",
    "tipo": "MOTIVATION", 
    "titulo": "üöÄ Continue assim, Jo√£o!",
    "mensagem": "7 dias de sequ√™ncia √© incr√≠vel! Voc√™ est√° no n√≠vel 3 e subindo. Que tal mais uma tarefa hoje?",
    "prioridade": 6,
    "agendado_para": "2025-05-22T14:00:00Z"
  }
}
```

#### `GET /api/neurolink/notifications`
Lista notifica√ß√µes do usu√°rio

**Query Parameters:**
- `status`: PENDING, SENT, read, DISMISSED
- `tipo`: ALERT, REMINDER, MOTIVATION, etc.
- `limite`: N√∫mero m√°ximo de resultados (default: 20)

**Response:**
```json
{
  "erro": false,
  "notifications": [
    {
      "id": "uuid",
      "tipo": "REMINDER",
      "titulo": "üìö Hora do Node.js!",
      "mensagem": "Que tal dar uma olhada na tarefa 'Estudar Node.js'?",
      "status": "SENT",
      "prioridade": 6,
      "agendado_para": "2025-05-22T14:00:00Z",
      "enviado_em": "2025-05-22T14:00:15Z",
      "metadata": {
        "tom": "casual",
        "emoji_principal": "üìö",
        "generated_with_ai": true
      }
    }
  ],
  "total": 1
}
```

#### `PATCH /api/neurolink/notifications/{id}/read`
Marca notifica√ß√£o como lida

**Response:**
```json
{
  "erro": false,
  "mensagem": "Notifica√ß√£o marcada como lida",
  "notification": {
    "id": "uuid",
    "status": "read",
    "lido_em": "2025-05-22T14:05:30Z"
  }
}
```

#### `POST /api/neurolink/notifications/{id}/feedback`
Envia feedback sobre notifica√ß√£o

**Request Body:**
```json
{
  "feedback_tipo": "helpful",
  "comentario": "Notifica√ß√£o muito √∫til e no momento certo!"
}
```

**Tipos de Feedback:**
- `helpful`: √ötil e relevante
- `perfect`: Perfeita, excelente timing e conte√∫do
- `annoying`: Irritante ou excessiva
- `irrelevant`: Irrelevante para o contexto
- `too_early`: Muito cedo
- `too_late`: Muito tarde

#### `GET /api/neurolink/settings`
Obt√©m configura√ß√µes do usu√°rio

**Response:**
```json
{
  "erro": false,
  "configuracoes": {
    "personalidade": "casual",
    "horario_inicio": "07:00",
    "horario_fim": "22:00", 
    "frequencia_maxima": 5,
    "tipos_habilitados": ["ALERT", "REMINDER", "MOTIVATION"],
    "timezone": "America/Sao_Paulo"
  }
}
```

#### `PUT /api/neurolink/settings`
Atualiza configura√ß√µes do usu√°rio

**Request Body:**
```json
{
  "personalidade": "motivational",
  "horario_inicio": "08:00",
  "horario_fim": "23:00",
  "frequencia_maxima": 7,
  "tipos_habilitados": ["ALERT", "REMINDER", "MOTIVATION", "ACHIEVEMENT"],
  "timezone": "America/Sao_Paulo"
}
```

#### `GET /api/neurolink/stats`
Estat√≠sticas de engajamento

**Response:**
```json
{
  "erro": false,
  "statistics": {
    "total_notifications": 45,
    "sent_notifications": 42,
    "read_notifications": 38,
    "read_rate": "90.5",
    "types_breakdown": {
      "REMINDER": 20,
      "MOTIVATION": 15,
      "ALERT": 7,
      "ACHIEVEMENT": 3
    },
    "priority_breakdown": {
      "P1": 5,
      "P2": 12,
      "P3": 15,
      "P4": 10
    },
    "engagement_score": "92.3"
  }
}
```

---

## üé≠ Tipos de Notifica√ß√£o

### üö® ALERT - Alertas Urgentes
**Quando usar**: Prazos cr√≠ticos, tarefas vencidas, situa√ß√µes que requerem a√ß√£o imediata

**Caracter√≠sticas**:
- Prioridade alta (8-10)
- Enviado imediatamente se dentro do hor√°rio ativo
- Tom direto mas encorajador
- Emoji: ‚ö†Ô∏è, üö®, ‚ùó, ‚è∞

**Exemplos**:
```
‚ö†Ô∏è Aten√ß√£o, Maria!
Sua tarefa "Relat√≥rio mensal" vence em 2 horas. S√£o 15 pontos em jogo!

üö® Tarefa Vencida
"Apresenta√ß√£o cliente" venceu ontem. Que tal finaliz√°-la agora e manter o foco?
```

### üìù REMINDER - Lembretes Amig√°veis  
**Quando usar**: Lembretes gerais, tarefas pr√≥ximas do vencimento, nudges motivacionais

**Caracter√≠sticas**:
- Prioridade m√©dia (5-7)
- Agendado para hor√°rios √≥timos do usu√°rio
- Tom amig√°vel e conversacional
- Emoji: üìù, üí°, üìå, üîî

**Exemplos**:
```
üìù Lembrete Amig√°vel
Oi Jo√£o! Que tal dar uma olhada na tarefa "Estudar Python"? Voc√™ tem at√© amanh√£!

üí° Momento Produtivo
Detectamos que voc√™ √© mais produtivo √†s 14h. Perfeito para "Revisar c√≥digo"!
```

### üöÄ MOTIVATION - Motiva√ß√£o e Impulso
**Quando usar**: Sequ√™ncias ativas, marcos atingidos, usu√°rios em baixa atividade

**Caracter√≠sticas**:
- Prioridade vari√°vel (4-8)
- Foco em conquistas e progresso
- Tom inspirador e energ√©tico
- Emoji: üöÄ, üí™, üåü, üî•

**Exemplos**:
```
üî• Sequ√™ncia em Chamas!
Incr√≠vel, Ana! 12 dias consecutivos de produtividade. Voc√™ est√° voando!

üí™ Hora do Comeback!
J√° foi n√≠vel 5 antes, Pedro. Que tal retomar o ritmo com uma tarefa simples?
```

### üèÜ ACHIEVEMENT - Conquistas e Celebra√ß√µes
**Quando usar**: Tarefas conclu√≠das, n√≠veis atingidos, recordes quebrados

**Caracter√≠sticas**:
- Prioridade alta (7-9)
- Tom celebrativo e recompensador
- Destaque para progresso
- Emoji: üèÜ, üéâ, ‚ú®, üëè

**Exemplos**:
```
üéâ Parab√©ns, Carlos!
Tarefa "Deploy da aplica√ß√£o" conclu√≠da! +18 pontos conquistados!

üöÄ N√≠vel 4 Desbloqueado!
Incr√≠vel! Voc√™ subiu de n√≠vel. Pr√≥ximo objetivo: apenas 150 pontos!
```

### üìä PROGRESS - Atualiza√ß√µes de Progresso
**Quando usar**: Relat√≥rios semanais, estat√≠sticas, insights de produtividade

**Caracter√≠sticas**:
- Prioridade baixa-m√©dia (3-6)
- Foco em dados e insights
- Tom informativo e anal√≠tico
- Emoji: üìä, üìà, ‚ö°, üéØ

**Exemplos**:
```
üìà Progresso Semanal
Esta semana: 85% de conclus√£o! 12 tarefas finalizadas, 180 pontos conquistados.

üéØ Meta Pr√≥xima
Faltam apenas 3 tarefas para bater seu recorde mensal!
```

### üí° INSIGHT - Dicas e An√°lises
**Quando usar**: Padr√µes identificados, sugest√µes de melhoria, dicas personalizadas

**Caracter√≠sticas**:
- Prioridade baixa (2-5)
- Tom consultivo e √∫til
- Baseado em an√°lise de dados
- Emoji: üí°, üß†, üìã, üí≠

**Exemplos**:
```
üß† Insight Personalizado
Voc√™ completa 70% mais tarefas nas manh√£s. Que tal agendar as importantes antes das 12h?

üí° Dica de Produtividade  
Tarefas de 8-12 pontos t√™m sua maior taxa de conclus√£o. Foque nessa faixa!
```

---

## ‚öñÔ∏è Sistema de Prioriza√ß√£o

### Algoritmo de Prioriza√ß√£o

O NeuroLink usa um algoritmo sofisticado que pondera m√∫ltiplos fatores:

```javascript
Priority = (Urgency √ó 0.4) + (TaskPoints √ó 0.2) + 
           (UserLevel √ó 0.15) + (NotificationType √ó 0.15) + 
           (TimeContext √ó 0.1)
```

### Detalhamento dos Fatores

#### üö® Urg√™ncia (40% do peso)
**C√°lculo baseado no tempo at√© o deadline:**

| Status | Score | Descri√ß√£o |
|--------|-------|-----------|
| Vencida | 10 | Tarefa j√° passou do prazo |
| < 2 horas | 9 | Extremamente urgente |
| < 6 horas | 8 | Muito urgente |
| < 24 horas | 7 | Urgente |
| < 48 horas | 6 | Prazo pr√≥ximo |
| < 1 semana | 4 | M√©dio prazo |
| > 1 semana | 2 | Longo prazo |

#### üíé Pontos da Tarefa (20% do peso)
**Valor baseado na import√¢ncia da tarefa:**

| Pontos | Score | Categoria |
|--------|-------|-----------|
| 18-20 | 10 | Cr√≠tica |
| 15-17 | 8 | Alta import√¢ncia |
| 12-14 | 7 | Importante |
| 8-11 | 6 | M√©dia import√¢ncia |
| 5-7 | 4 | Padr√£o |
| 1-4 | 3 | Baixa import√¢ncia |

#### üë§ N√≠vel do Usu√°rio (15% do peso)
**Prioridade baseada no engajamento:**

```javascript
levelScore = Math.min(10, userLevel + 3);
streakBonus = Math.min(2, userStreak / 5);
finalScore = levelScore + streakBonus;
```

#### üîî Tipo de Notifica√ß√£o (15% do peso)

| Tipo | Score | Justificativa |
|------|-------|---------------|
| ALERT | 10 | M√°xima prioridade - a√ß√£o imediata |
| ACHIEVEMENT | 8 | Alta prioridade - refor√ßo positivo |
| REMINDER | 7 | Alta prioridade - core do sistema |
| MOTIVATION | 5 | Prioridade m√©dia - apoio |
| PROGRESS | 4 | Baixa-m√©dia - informativo |
| INSIGHT | 3 | Baixa - educativo |

#### ‚è∞ Contexto Temporal (10% do peso)

| Situa√ß√£o | Score | Descri√ß√£o |
|----------|-------|-----------|
| Prime Time | 8 | Hor√°rios de alta produtividade (8-10h, 18-20h) |
| Hor√°rio Comercial | 6 | Hor√°rio normal de trabalho (9-17h) |
| Hor√°rio Ativo | 5 | Dentro do range configurado pelo usu√°rio |
| Fora do Hor√°rio | 2 | Fora do hor√°rio ativo do usu√°rio |

### Ajustes Din√¢micos

#### Baseado no Engajamento
```javascript
if (avgEngagement < 0.3) priority -= 1;  // Baixo engajamento
if (avgEngagement > 0.7) priority += 1;  // Alto engajamento
```

#### Preven√ß√£o de Spam
```javascript
// Reduz prioridade se usu√°rio j√° tem muitas notifica√ß√µes na fila
if (userNotificationsInQueue >= 3) priority -= 2;

// Evita duplicatas do mesmo tipo
if (sameTypeCount >= 2) priority -= 1;
```

### Exemplos Pr√°ticos

#### Exemplo 1: Tarefa Cr√≠tica Vencendo
```javascript
// Contexto
const context = {
  task: { pontos: 18, hoursToDeadline: 1 },
  user: { nivel: 4, sequencia: 5 },
  notification: { tipo: 'ALERT' },
  time: 'prime_time'
};

// C√°lculo
Priority = (9 √ó 0.4) + (10 √ó 0.2) + (7 √ó 0.15) + (10 √ó 0.15) + (8 √ó 0.1)
Priority = 3.6 + 2.0 + 1.05 + 1.5 + 0.8 = 8.95 ‚Üí 9

// Resultado: Prioridade m√°xima, enviado imediatamente
```

#### Exemplo 2: Lembrete Casual
```javascript
// Contexto  
const context = {
  task: { pontos: 8, hoursToDeadline: 48 },
  user: { nivel: 2, sequencia: 1 },
  notification: { tipo: 'REMINDER' },
  time: 'normal_hours'
};

// C√°lculo
Priority = (6 √ó 0.4) + (6 √ó 0.2) + (5 √ó 0.15) + (7 √ó 0.15) + (6 √ó 0.1)
Priority = 2.4 + 1.2 + 0.75 + 1.05 + 0.6 = 6.0 ‚Üí 6

// Resultado: Prioridade m√©dia, agendado para pr√≥ximo hor√°rio √≥timo
```

---

<div align="center">

### üß† NeuroLink: Documenta√ß√£o T√©cnica Completa

**Sistema revolucion√°rio de notifica√ß√µes inteligentes com IA**

### [‚¨ÖÔ∏è Voltar ao README Principal](../README.md) | [üöÄ Come√ßar Implementa√ß√£o](#-instala√ß√£o-e-configura√ß√£o)
